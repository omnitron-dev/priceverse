{
  "app": {
    "name": "priceverse",
    "version": "2.0.0",
    "environment": "development",
    "port": 3000,
    "host": "0.0.0.0"
  },
  "database": {
    "dialect": "postgres",
    "host": "localhost",
    "port": 5432,
    "database": "priceverse",
    "user": "postgres",
    "password": "postgres",
    "pool": {
      "min": 2,
      "max": 20
    },
    "ssl": false,
    "sslRejectUnauthorized": true
  },
  "api": {
    "rateLimit": {
      "enabled": true,
      "windowMs": 60000,
      "maxRequests": 100
    },
    "cache": {
      "priceTtl": 60,
      "staleThreshold": 120000
    },
    "streaming": {
      "idleTimeout": 60000,
      "maxQueueSize": 1000
    }
  },
  "redis": {
    "host": "localhost",
    "port": 6379,
    "db": 0
  },
  "exchanges": {
    "enabled": [
      "binance",
      "kraken",
      "coinbase",
      "okx",
      "bybit",
      "kucoin"
    ],
    "maxReconnectAttempts": 10,
    "reconnectBaseDelay": 1000,
    "maxReconnectDelay": 30000,
    "tradeFlowTimeout": 60000
  },
  "cbr": {
    "url": "https://www.cbr.ru/scripts/XML_daily.asp",
    "cacheTtl": 3600,
    "retryAttempts": 3,
    "retryDelay": 5000
  },
  "aggregation": {
    "interval": 10000,
    "windowSize": 30000,
    "pairs": [
      "btc-usd",
      "xmr-usd",
      "eth-usd"
    ],
    "maxConsecutiveErrors": 10,
    "errorResetInterval": 60000
  },
  "retention": {
    "enabled": true,
    "priceHistoryDays": 7,
    "candles5minDays": 30,
    "candles1hourDays": 365,
    "candles1dayDays": 0,
    "cleanupSchedule": "0 3 * * *"
  },
  "alerts": {
    "enabled": false,
    "email": {
      "enabled": false,
      "to": [],
      "from": "priceverse@localhost"
    },
    "thresholds": {
      "exchangeDisconnectedSeconds": 300,
      "aggregationFailures": 5,
      "cbrRateStaleHours": 3
    }
  },
  "logging": {
    "level": "info",
    "pretty": false
  },
  "health": {
    "enabled": true,
    "path": "/health",
    "timeout": 5000
  }
}
